import{N as m,f as d,l as c,E as f}from"./index-rvQoOiZL.js";const z=m("lawyer",()=>{const l=d(null),n=d(!1),s=d(null),u=c(()=>{if(!l.value)return!1;const e=l.value;return!(!e.firm&&!e.yearsOfExperience&&!e.barCertificateNumber&&!e.practicingCourt&&!e.division&&!e.district&&!e.bio&&!e.verificationStatus&&(!e.specializations||e.specializations.length===0))}),v=c(()=>{var e;return u.value&&((e=l.value)==null?void 0:e.verificationStatus)==="APPROVED"}),w=c(()=>{var e;return u.value&&((e=l.value)==null?void 0:e.verificationStatus)==="PENDING"}),h=c(()=>{var e;return u.value&&((e=l.value)==null?void 0:e.verificationStatus)==="REJECTED"}),g=c(()=>u.value&&v.value);return{lawyerInfo:l,isLoading:n,error:s,hasProfile:u,isVerified:v,isPending:w,isRejected:h,canAccessDashboard:g,fetchLawyerInfo:async()=>{var e,t,r,a,p,y;n.value=!0,s.value=null;try{const o=await f.getLawyerInfo();if(o.message&&o.message.includes("Lawyer profile has not been created"))return l.value=null,null;const i=o.data;return!i.firm&&!i.yearsOfExperience&&!i.barCertificateNumber&&!i.practicingCourt&&!i.division&&!i.district&&!i.bio&&!i.verificationStatus&&(!i.specializations||i.specializations.length===0)?(l.value=null,null):(l.value=o.data,o.data)}catch(o){if(console.error("Error fetching lawyer info:",o),((e=o.response)==null?void 0:e.status)===404||(a=(r=(t=o.response)==null?void 0:t.data)==null?void 0:r.message)!=null&&a.includes("Lawyer profile has not been created"))return l.value=null,null;throw s.value=((y=(p=o.response)==null?void 0:p.data)==null?void 0:y.message)||"Failed to fetch lawyer information",o}finally{n.value=!1}},createLawyerProfile:async e=>{var t,r;n.value=!0,s.value=null;try{const a=await f.createLawyerProfile(e);return l.value=a.data,a.data}catch(a){throw console.error("Error creating lawyer profile:",a),s.value=((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to create lawyer profile",a}finally{n.value=!1}},updateLawyerProfile:async e=>{var t,r;n.value=!0,s.value=null;try{const a=await f.updateLawyerProfile(e);return l.value=a.data,a.data}catch(a){throw console.error("Error updating lawyer profile:",a),s.value=((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to update lawyer profile",a}finally{n.value=!1}},uploadCredentials:async e=>{var t,r;n.value=!0,s.value=null;try{return(await f.uploadCredentials(e)).data}catch(a){throw console.error("Error uploading credentials:",a),s.value=((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to upload credentials",a}finally{n.value=!1}},viewCredentials:async()=>{var e,t;n.value=!0,s.value=null;try{return await f.viewCredentials()}catch(r){throw console.error("Error viewing credentials:",r),s.value=((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to view credentials",r}finally{n.value=!1}},clearError:()=>{s.value=null},reset:()=>{l.value=null,n.value=!1,s.value=null}}});export{z as u};
