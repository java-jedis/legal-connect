import{_ as y,u as x,f as c,k as M,c as i,b as e,w as V,m as g,i as v,v as C,n as f,p as S,s as b,g as a,q as B,x as k,y as I,t as A,z as E,o as n}from"./index-rvQoOiZL.js";const L={class:"auth-page"},j={class:"auth-container"},z={class:"auth-card"},D={class:"form-group"},N={class:"input-group"},U=["disabled"],q={class:"form-group"},P={class:"input-group"},R=["type","disabled"],T=["disabled"],F={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},H={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},W={key:0,class:"credentials-error"},$={class:"form-options"},G={class:"checkbox-item"},J=["disabled"],K={class:"form-actions"},O=["disabled"],Q={key:0,class:"loading-spinner"},X={class:"auth-footer"},Y={__name:"LoginView",setup(Z){const d=E(),u=x(),t=c(!1),p=c(!1),r=c(!1),o=M({email:"",password:"",rememberMe:!1}),w=()=>{r.value=!1},_=async()=>{r.value=!1,t.value=!0;try{if((await u.login({email:o.email,password:o.password})).success){const s=u.getUserInfo();o.email="",o.password="",o.rememberMe=!1,s.emailVerified?u.isAdmin()?d.push("/dashboard/admin"):u.isLawyer()?d.push("/dashboard/lawyer"):d.push("/dashboard/user"):d.push("/email-verification")}else r.value=!0}catch(m){console.error("Login error:",m),r.value=!0}finally{t.value=!1}};return(m,s)=>{const h=I("router-link");return n(),i("div",L,[e("div",j,[e("div",z,[s[16]||(s[16]=e("div",{class:"auth-header"},[e("h1",{class:"auth-title"},"Welcome Back"),e("p",{class:"auth-subtitle"},"Sign in to continue to your dashboard.")],-1)),e("form",{class:"auth-form",onSubmit:V(_,["prevent"])},[e("div",D,[s[5]||(s[5]=e("label",{for:"email"},"Email Address",-1)),e("div",N,[s[4]||(s[4]=e("span",{class:"input-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e("polyline",{points:"22,6 12,13 2,6"})])],-1)),v(e("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=l=>o.email=l),required:"",placeholder:"e.g., name@example.com",disabled:t.value,class:f({"input-error":r.value}),onInput:w},null,42,U),[[C,o.email]])])]),e("div",q,[s[9]||(s[9]=e("label",{for:"password"},"Password",-1)),e("div",P,[s[8]||(s[8]=e("span",{class:"input-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})])],-1)),v(e("input",{type:p.value?"text":"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=l=>o.password=l),required:"",placeholder:"Enter your password",disabled:t.value,class:f({"input-error":r.value}),onInput:w},null,42,R),[[S,o.password]]),e("button",{type:"button",class:"password-toggle",onClick:s[2]||(s[2]=l=>p.value=!p.value),disabled:t.value},[p.value?(n(),i("svg",F,s[6]||(s[6]=[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),e("circle",{cx:"12",cy:"12",r:"3"},null,-1)]))):(n(),i("svg",H,s[7]||(s[7]=[e("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},null,-1),e("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])))],8,T)])]),r.value?(n(),i("div",W,s[10]||(s[10]=[e("p",{class:"error-message"},"Invalid email address or wrong password",-1)]))):g("",!0),e("div",$,[e("label",G,[v(e("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=l=>o.rememberMe=l),disabled:t.value},null,8,J),[[B,o.rememberMe]]),s[11]||(s[11]=e("span",{class:"checkmark"},null,-1)),s[12]||(s[12]=a(" Remember me "))]),b(h,{to:"/forgot-password",class:"forgot-password-link"},{default:k(()=>s[13]||(s[13]=[a(" Forgot password? ")])),_:1,__:[13]})]),e("div",K,[e("button",{type:"submit",class:"btn btn-primary",disabled:t.value},[t.value?(n(),i("span",Q)):g("",!0),a(" "+A(t.value?"Signing In...":"Sign In"),1)],8,O)])],32),e("div",X,[e("p",null,[s[15]||(s[15]=a(" Don't have an account? ")),b(h,{to:"/register",class:"link font-weight-bold"},{default:k(()=>s[14]||(s[14]=[a("Sign up")])),_:1,__:[14]})])])])])])}}},es=y(Y,[["__scopeId","data-v-603dd29f"]]);export{es as default};
