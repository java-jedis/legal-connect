import{_ as ce,u as ue,f as h,l as J,D as ve,A as he,H as pe,z as we,G as S,c,b as t,m as _,i as z,v as K,F as Y,r as G,n as P,a as x,t as y,o as u,w as ge}from"./index-rvQoOiZL.js";import{a as p}from"./aiChatService-B6U_Tdqr.js";const ke={class:"ai-chat-layout"},me={class:"sidebar-header"},ye={class:"sidebar-actions"},Ce=["disabled"],fe={class:"sidebar-search"},be={class:"search-container"},xe={class:"sidebar-content"},Se={key:0,class:"loading-state"},_e={key:1,class:"no-history-state"},Be={key:2,class:"history-list"},Me=["onClick"],Le={class:"history-item-content"},Ie={class:"history-title"},He={class:"history-date"},Ae={class:"history-actions"},$e=["onClick"],Ve={class:"chat-main"},je={class:"mobile-header"},De={class:"mobile-actions"},Ne=["disabled"],Ee={class:"chat-header desktop-only"},Fe={class:"header-content"},Ze={key:0,class:"chat-actions"},Te={key:0,class:"welcome-message"},Pe={class:"welcome-content"},Ue={class:"quick-prompts"},We={class:"welcome-note"},Oe={class:"message-avatar"},Re={key:0,class:"user-avatar"},qe={key:1,class:"ai-avatar"},Je={class:"message-content"},ze={class:"message-header"},Ke={class:"message-sender"},Ye={class:"message-time"},Ge=["innerHTML"],Qe={key:1,class:"message-wrapper"},Xe={class:"chat-input-container"},et={class:"input-wrapper"},tt=["disabled"],st=["disabled"],ot={key:0,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},at={key:1,class:"loading-spinner",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt={key:0,class:"error-message"},rt={class:"error-content"},it={__name:"AIChatView",setup(lt){const v=we(),B=pe(),w=ue(),i=h([]),m=h(""),C=h(!1),V=h(!1),g=h(""),r=h(""),l=h(""),M=h(null),L=h(null),d=h([]),I=h(!1),H=h(""),f=h(!1),Q=J(()=>{var s,e;return(s=w.userInfo)!=null&&s.firstName?w.userInfo.firstName.charAt(0).toUpperCase():(e=w.userInfo)!=null&&e.email?w.userInfo.email.charAt(0).toUpperCase():"U"}),U=J(()=>{if(!H.value.trim())return d.value;const s=H.value.toLowerCase();return d.value.filter(e=>{var o;return R(e).toLowerCase().includes(s)||ae(e).toLowerCase().includes(s)||((o=e.messages)==null?void 0:o.some(a=>a.content.toLowerCase().includes(s)))})});ve(()=>B.params.sessionId,async(s,e)=>{s&&s!==e?s!==l.value&&await E(s):!s&&e&&(l.value="",r.value="",i.value=[])},{immediate:!0}),he(async()=>{X(),await W();const s=B.params.sessionId;if(s)await E(s);else{const e=localStorage.getItem("continue_session_id");e?(localStorage.removeItem("continue_session_id"),await v.push(`/ai-chat/${e}`)):(l.value="",r.value="",i.value=[])}});const j=()=>{v.push("/document-search")},D=()=>{v.push("/chat-history")},b=async s=>{var e;try{r.value||await N(),m.value=s,await T(),await S(),(e=L.value)==null||e.focus()}catch(o){console.error("Error starting prompt conversation:",o),g.value="Failed to start conversation. Please try again."}},X=async()=>{try{await p.checkHealth()}catch{g.value="AI Chat service is currently unavailable. Please try again later."}},W=async()=>{var s;I.value=!0;try{if((s=w.userInfo)!=null&&s.id)try{const o=await p.getUserSessions(w.userInfo.id,50);if(o.sessions&&o.sessions.length>0){d.value=o.sessions.map(a=>({id:a.id,messages:[],createdAt:new Date(a.created_at),lastActivity:new Date(a.updated_at),messageCount:a.message_count||0,title:a.title||"New Chat Session",isFromBackend:!0})),await ee();return}}catch(o){console.warn("Failed to load sessions from backend, falling back to localStorage:",o)}const e=localStorage.getItem("ai_chat_sessions");e?d.value=JSON.parse(e):d.value=[]}catch(e){console.error("Error loading chat history:",e)}finally{I.value=!1}},ee=async()=>{for(const s of d.value)if(s.isFromBackend&&s.messages.length===0)try{const e=await p.getChatHistory(s.id);e.messages&&e.messages.length>0&&(s.messages=e.messages.map(o=>({type:o.type||o.role,content:o.content,timestamp:new Date(o.timestamp||o.created_at)})))}catch(e){console.warn(`Failed to load preview for session ${s.id}:`,e)}},N=async()=>{var s;try{if(i.value=[],(s=w.userInfo)!=null&&s.id){const e=await p.createSession(w.userInfo.id,"New Chat Session");r.value=e.session_id,l.value=e.session_id,await v.push(`/ai-chat/${e.session_id}`)}else r.value=p.generateSessionId(),l.value=r.value,await v.push(`/ai-chat/${r.value}`)}catch(e){console.error("Error creating new session:",e),r.value=p.generateSessionId(),l.value=r.value,i.value=[],await v.push(`/ai-chat/${r.value}`)}},E=async s=>{try{i.value=[],await p.getSessionInfo(s);const a=((await p.getChatHistory(s)).messages||[]).map(n=>{var k;return{type:n.role==="user"?"user":"ai",content:n.content,sources:((k=n.metadata)==null?void 0:k.sources)||[],metadata:n.metadata||{},timestamp:new Date(n.created_at)}});r.value=s,l.value=s,i.value=a,B.params.sessionId!==s&&await v.replace(`/ai-chat/${s}`),await S(),$()}catch(e){console.error("Error loading session from backend:",e);const a=JSON.parse(localStorage.getItem("ai_chat_sessions")||"[]").find(n=>n.id===s);a?O(a):(g.value="Session not found. Starting a new chat.",await N())}},te=()=>{W()},A=()=>{if(i.value.length===0)return;const s=d.value.findIndex(o=>o.id===l.value),e={id:l.value,messages:[...i.value],createdAt:s>=0?d.value[s].createdAt:new Date,lastActivity:new Date,messageCount:i.value.length};s>=0?d.value[s]=e:d.value.unshift(e),d.value=d.value.slice(0,50),localStorage.setItem("ai_chat_sessions",JSON.stringify(d.value))},se=async()=>{i.value.length>0&&A(),await N(),g.value="",f.value=!1},O=async s=>{i.value.length>0&&l.value!==s.id&&A(),s.isFromBackend?await E(s.id):(i.value=[...s.messages],r.value=s.id,l.value=s.id,B.params.sessionId!==s.id&&await v.push(`/ai-chat/${s.id}`),S(()=>{$()})),f.value=!1},oe=async s=>{var e;if(confirm("Are you sure you want to delete this chat session?"))try{(s.isFromBackend||(e=w.userInfo)!=null&&e.id&&s.id.includes("-"))&&await p.deleteSession(s.id),d.value=d.value.filter(o=>o.id!==s.id),localStorage.setItem("ai_chat_sessions",JSON.stringify(d.value.filter(o=>!o.isFromBackend))),l.value===s.id&&(i.value=[],l.value="",r.value="",await v.push("/ai-chat"))}catch(o){console.error("Error deleting session:",o),g.value="Failed to delete session. Please try again."}},F=()=>{f.value=!f.value},R=s=>{if(s.title&&s.title!=="New Chat Session")return s.title;if(s.messages&&s.messages.length>0){const e=s.messages.find(o=>o.type==="user");if(e)return Z(e.content,45)}return s.isFromBackend?"Chat Session":s.id.includes("-")?`Chat ${s.id.split("-")[0]}`:`Chat ${s.id.split("_").pop()}`},ae=s=>{if(s.messages&&s.messages.length>0){const e=s.messages.slice().reverse().find(a=>a.type==="ai");if(e)return Z(e.content,60);const o=s.messages[s.messages.length-1];return Z(o.content,60)}return s.isFromBackend?`${s.messageCount||0} messages`:"Empty conversation"},ne=s=>{if(!s)return"";const e=new Date(s);e.setHours(e.getHours()+6);const a=Math.abs(new Date-e),n=Math.floor(a/(1e3*60*60)),k=Math.floor(a/(1e3*60*60*24));return n<1?"Just now":n<24?`${n}h ago`:k===1?"Yesterday":k<7?`${k}d ago`:k<30?`${Math.floor(k/7)}w ago`:e.toLocaleDateString()},Z=(s,e)=>s.length<=e?s:s.substring(0,e)+"...",T=async()=>{var e,o,a;if(!m.value.trim()||C.value)return;const s=m.value.trim();if(!r.value)try{if((e=w.userInfo)!=null&&e.id){const n=await p.createSession(w.userInfo.id,"New Chat Session");r.value=n.session_id,l.value=n.session_id,await v.push(`/ai-chat/${n.session_id}`)}else r.value=p.generateSessionId(),l.value=r.value,await v.push(`/ai-chat/${r.value}`)}catch(n){console.error("Error creating session for message:",n),r.value=p.generateSessionId(),l.value=r.value,await v.push(`/ai-chat/${r.value}`)}i.value.push({type:"user",content:s,timestamp:new Date}),m.value="",q(),await S(),$(),C.value=!0,V.value=!0,g.value="";try{const n=await p.sendMessage(s,r.value,(o=w.userInfo)==null?void 0:o.id,5);i.value.push({type:"ai",content:n.response,sources:n.sources||[],metadata:n.metadata||{},timestamp:new Date}),A()}catch(n){console.error("Error sending message:",n),g.value=n.message||"Failed to get AI response. Please try again.",i.value.push({type:"ai",content:"I apologize, but I encountered an error while processing your request. Please try again.",timestamp:new Date})}finally{C.value=!1,V.value=!1,await S(),$(),(a=L.value)==null||a.focus()}},re=async()=>{i.value.length>0&&A(),await v.push("/ai-chat")},ie=s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),T())},q=()=>{const s=L.value;s&&(s.style.height="auto",s.style.height=Math.min(s.scrollHeight,120)+"px")},$=()=>{M.value&&(M.value.scrollTop=M.value.scrollHeight)},le=s=>new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(s),de=s=>s.replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,"<code>$1</code>");return(s,e)=>(u(),c("div",ke,[t("div",{class:P(["chat-sidebar",{"sidebar-open":f.value}])},[t("div",me,[e[12]||(e[12]=t("h3",null,"Chat History",-1)),t("div",ye,[t("button",{onClick:te,class:"sidebar-btn",title:"Refresh history",disabled:I.value},e[9]||(e[9]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("polyline",{points:"23,4 23,10 17,10",stroke:"currentColor","stroke-width":"2"}),t("polyline",{points:"1,20 1,14 7,14",stroke:"currentColor","stroke-width":"2"}),t("path",{d:"M20.49,9A9,9 0 0,0 5.64,5.64L1,10m22,4l-4.64,4.36A9,9 0 0,1 3.51,15",stroke:"currentColor","stroke-width":"2"})],-1)]),8,Ce),t("button",{onClick:se,class:"sidebar-btn primary",title:"New chat"},e[10]||(e[10]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19",stroke:"currentColor","stroke-width":"2"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12",stroke:"currentColor","stroke-width":"2"})],-1)])),t("button",{onClick:F,class:"sidebar-btn mobile-only",title:"Close sidebar"},e[11]||(e[11]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2"})],-1)]))])]),t("div",fe,[t("div",be,[e[13]||(e[13]=t("svg",{class:"search-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor","stroke-width":"2"}),t("path",{d:"m21 21-4.35-4.35",stroke:"currentColor","stroke-width":"2"})],-1)),z(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>H.value=o),placeholder:"Search history...",class:"search-input"},null,512),[[K,H.value]])])]),t("div",xe,[I.value?(u(),c("div",Se,e[14]||(e[14]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"Loading history...",-1)]))):U.value.length===0?(u(),c("div",_e,e[15]||(e[15]=[t("svg",{class:"no-history-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M21 11.5C21.0034 12.8199 20.6951 14.1219 20.1 15.3C19.3944 16.7118 18.3098 17.8992 16.9674 18.7293C15.6251 19.5594 14.0782 19.9994 12.5 20C11.1801 20.0035 9.87812 19.6951 8.7 19.1L3 21L4.9 15.3C4.30493 14.1219 3.99656 12.8199 4 11.5C4.00061 9.92179 4.44061 8.37488 5.27072 7.03258C6.10083 5.69028 7.28825 4.60557 8.7 3.9C9.87812 3.30493 11.1801 2.99656 12.5 3H13C15.0843 3.11499 17.053 3.99476 18.5291 5.47086C20.0052 6.94696 20.885 8.91565 21 11V11.5Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("line",{x1:"15",y1:"9",x2:"9",y2:"15",stroke:"currentColor","stroke-width":"2"}),t("line",{x1:"9",y1:"9",x2:"15",y2:"15",stroke:"currentColor","stroke-width":"2"})],-1),t("p",null,"No chat history yet",-1),t("small",null,"Start a conversation to see your history here",-1)]))):(u(),c("div",Be,[(u(!0),c(Y,null,G(U.value,o=>(u(),c("div",{key:o.id,class:P(["history-item",{active:l.value===o.id}]),onClick:a=>O(o)},[t("div",Le,[t("h4",Ie,y(R(o)),1),t("span",He,y(ne(o.lastActivity)),1)]),t("div",Ae,[t("button",{onClick:ge(a=>oe(o),["stop"]),class:"history-action-btn",title:"Delete session"},e[16]||(e[16]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M3 6H5H21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,$e)])],10,Me))),128))]))])],2),t("div",Ve,[t("div",je,[t("button",{onClick:F,class:"mobile-menu-btn"},e[17]||(e[17]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("line",{x1:"3",y1:"6",x2:"21",y2:"6",stroke:"currentColor","stroke-width":"2"}),t("line",{x1:"3",y1:"12",x2:"21",y2:"12",stroke:"currentColor","stroke-width":"2"}),t("line",{x1:"3",y1:"18",x2:"21",y2:"18",stroke:"currentColor","stroke-width":"2"})],-1)])),e[21]||(e[21]=t("h1",null,"Legal Connect AI Assistant",-1)),t("div",De,[t("button",{onClick:j,class:"mobile-clear-btn",title:"Search Documents"},e[18]||(e[18]=[x('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-78874206><path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></path><polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></polyline><circle cx="11.5" cy="12.5" r="2.5" stroke="currentColor" stroke-width="2" data-v-78874206></circle><path d="m13.5 14.5 1.5 1.5" stroke="currentColor" stroke-width="2" data-v-78874206></path></svg>',1)])),t("button",{onClick:D,class:"mobile-clear-btn",title:"Chat History"},e[19]||(e[19]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z",stroke:"currentColor","stroke-width":"2"}),t("path",{d:"M12 7V12L15 15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),t("button",{onClick:re,class:"mobile-clear-btn",disabled:i.value.length===0},e[20]||(e[20]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M3 6H5H21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,Ne)])]),t("div",Ee,[t("div",Fe,[e[24]||(e[24]=x('<div class="ai-info" data-v-78874206><div class="ai-avatar" data-v-78874206><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-78874206><path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></path><path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></path><path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></path></svg></div><div class="ai-details" data-v-78874206><h1 class="ai-name" data-v-78874206>Legal Connect AI Assistant</h1><p class="ai-description" data-v-78874206>Ask me anything about Bangladesh legal documents and laws</p></div></div>',1)),i.value.length>0?(u(),c("div",Ze,[t("button",{onClick:j,class:"btn-action",title:"Search Documents"},e[22]||(e[22]=[x('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-78874206><path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></path><polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></polyline><circle cx="11.5" cy="12.5" r="2.5" stroke="currentColor" stroke-width="2" data-v-78874206></circle><path d="m13.5 14.5 1.5 1.5" stroke="currentColor" stroke-width="2" data-v-78874206></path></svg>',1)])),t("button",{onClick:D,class:"btn-action",title:"Chat History"},e[23]||(e[23]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z",stroke:"currentColor","stroke-width":"2"}),t("path",{d:"M12 7V12L15 15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])):_("",!0)])]),t("div",{class:"chat-messages",ref_key:"messagesContainer",ref:M,role:"region","aria-label":"AI chat messages"},[i.value.length===0?(u(),c("div",Te,[t("div",Pe,[e[25]||(e[25]=t("h3",null,"Welcome to Legal Connect AI Assistant",-1)),e[26]||(e[26]=t("p",null,"Get instant legal guidance by choosing a topic below or ask your own question:",-1)),t("div",Ue,[t("button",{onClick:e[1]||(e[1]=o=>b("What are the key provisions of civil law in Bangladesh?")),class:"prompt-btn"}," What are the key provisions of civil law in Bangladesh? "),t("button",{onClick:e[2]||(e[2]=o=>b("Explain the criminal law system in Bangladesh")),class:"prompt-btn"}," Explain the criminal law system in Bangladesh "),t("button",{onClick:e[3]||(e[3]=o=>b("What are the family law provisions in Bangladesh?")),class:"prompt-btn"}," What are the family law provisions in Bangladesh? "),t("button",{onClick:e[4]||(e[4]=o=>b("Explain labor law and workers rights in Bangladesh")),class:"prompt-btn"}," Explain labor law and workers rights in Bangladesh "),t("button",{onClick:e[5]||(e[5]=o=>b("What are the property law regulations in Bangladesh?")),class:"prompt-btn"}," What are the property law regulations in Bangladesh? "),t("button",{onClick:e[6]||(e[6]=o=>b("Explain business law and company formation in Bangladesh")),class:"prompt-btn"}," Explain business law and company formation in Bangladesh ")]),t("p",We,y(d.value.length>0?"Or continue with a previous conversation from the history above.":"You can also type your own legal question below."),1)])])):_("",!0),(u(!0),c(Y,null,G(i.value,(o,a)=>(u(),c("div",{key:a,class:"message-wrapper"},[t("div",{class:P(["message",`message--${o.type}`])},[t("div",Oe,[o.type==="user"?(u(),c("div",Re,y(Q.value),1)):(u(),c("div",qe,e[27]||(e[27]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M2 17L12 22L22 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M2 12L12 17L22 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])))]),t("div",Je,[t("div",ze,[t("span",Ke,y(o.type==="user"?"You":"Legal Connect AI Assistant"),1),t("span",Ye,y(le(o.timestamp)),1)]),t("div",{class:"message-text",innerHTML:de(o.content)},null,8,Ge)])],2)]))),128)),V.value?(u(),c("div",Qe,e[28]||(e[28]=[x('<div class="message message--ai" data-v-78874206><div class="message-avatar" data-v-78874206><div class="ai-avatar" data-v-78874206><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-78874206><path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></path><path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></path><path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></path></svg></div></div><div class="message-content" data-v-78874206><div class="typing-indicator" data-v-78874206><span class="typing-dot" data-v-78874206></span><span class="typing-dot" data-v-78874206></span><span class="typing-dot" data-v-78874206></span></div></div></div>',1)]))):_("",!0)],512),t("div",Xe,[t("div",et,[z(t("textarea",{ref_key:"messageInput",ref:L,"onUpdate:modelValue":e[7]||(e[7]=o=>m.value=o),onKeydown:ie,onInput:q,placeholder:"Ask me anything about Bangladesh legal matters...",class:"message-input",rows:"1",disabled:C.value},null,40,tt),[[K,m.value]]),t("button",{onClick:T,class:"send-button",disabled:!m.value.trim()||C.value},[C.value?(u(),c("svg",at,e[30]||(e[30]=[t("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-dasharray":"31.416","stroke-dashoffset":"31.416"},null,-1)]))):(u(),c("svg",ot,e[29]||(e[29]=[t("line",{x1:"22",y1:"2",x2:"11",y2:"13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),t("polygon",{points:"22,2 15,22 11,13 2,9 22,2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))],8,st)]),e[31]||(e[31]=t("div",{class:"input-footer"},[t("p",{class:"disclaimer"}," AI responses are for informational purposes only and should not be considered as legal advice. ")],-1))])]),g.value?(u(),c("div",nt,[t("div",rt,[e[32]||(e[32]=t("svg",{class:"error-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),t("line",{x1:"15",y1:"9",x2:"9",y2:"15",stroke:"currentColor","stroke-width":"2"}),t("line",{x1:"9",y1:"9",x2:"15",y2:"15",stroke:"currentColor","stroke-width":"2"})],-1)),t("span",null,y(g.value),1),t("button",{onClick:e[8]||(e[8]=o=>g.value=""),class:"error-close"},"×")])])):_("",!0),t("div",{class:"right-actions-sidebar"},[e[35]||(e[35]=t("div",{class:"actions-header"},[t("h4",null,"Quick Actions")],-1)),t("div",{class:"action-buttons"},[t("button",{onClick:j,class:"action-btn document-search-btn",title:"Search Legal Documents"},e[33]||(e[33]=[x('<div class="action-icon" data-v-78874206><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-78874206><path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></path><polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></polyline><circle cx="11.5" cy="12.5" r="2.5" stroke="currentColor" stroke-width="2" data-v-78874206></circle><path d="m13.5 14.5 1.5 1.5" stroke="currentColor" stroke-width="2" data-v-78874206></path></svg></div><div class="action-text" data-v-78874206><span class="action-title" data-v-78874206>Search Documents</span><span class="action-subtitle" data-v-78874206>Browse legal documents and laws</span></div>',2)])),t("button",{onClick:D,class:"action-btn chat-history-btn",title:"View Chat History"},e[34]||(e[34]=[x('<div class="action-icon" data-v-78874206><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-78874206><path d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z" stroke="currentColor" stroke-width="2" data-v-78874206></path><path d="M12 7V12L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78874206></path></svg></div><div class="action-text" data-v-78874206><span class="action-title" data-v-78874206>Chat History</span><span class="action-subtitle" data-v-78874206>View past conversations</span></div>',2)]))])]),f.value?(u(),c("div",{key:1,class:"sidebar-overlay",onClick:F})):_("",!0)]))}},ut=ce(it,[["__scopeId","data-v-78874206"]]);export{ut as default};
