import{N as F,f as S,l as m,E as W,_ as j,D as V,A as Y,H as Q,c as r,b as e,m as k,w as Z,i as L,v as K,j as O,F as I,r as h,C as f,g as X,t as u,z as $,o}from"./index-rvQoOiZL.js";const q=F("lawyerSearch",()=>{const p=S([]),N=S(!1),R=S(""),t=S(!1),s=S({minExperience:null,maxExperience:null,practicingCourt:"",division:"",district:"",specialization:""}),C=m(()=>p.value.length>0),g=m(()=>Object.values(s.value).some(i=>i!==null&&i!==""&&i!==void 0)),D=i=>{s.value={...i}},v=()=>{s.value={minExperience:null,maxExperience:null,practicingCourt:"",division:"",district:"",specialization:""}},x=i=>{p.value=i},H=()=>{p.value=[],t.value=!1,R.value=""},P=async(i=null)=>{var d,w,J;N.value=!0,R.value="",t.value=!0;const n=i||s.value;try{const b={minExperience:n.minExperience,maxExperience:n.maxExperience,practicingCourt:n.practicingCourt,division:n.division,district:n.district,specialization:n.specialization};Object.keys(b).forEach(y=>{(b[y]===null||b[y]==="")&&delete b[y]});const z=await W.findLawyers(b);if(z.data&&Array.isArray(z.data)){const y=z.data.map(T=>({...T,practicingCourtDisplayName:l(T.practicingCourt),divisionDisplayName:_(T.division),districtDisplayName:E(T.district),specializationDisplayNames:A(T.specializations)}));p.value=y}else p.value=[]}catch(b){console.error("Error fetching lawyers:",b),R.value=((J=(w=(d=b.response)==null?void 0:d.data)==null?void 0:w.error)==null?void 0:J.message)||"Failed to fetch lawyers. Please try again.",p.value=[]}finally{N.value=!1}},G=i=>Object.keys(i).length>0?(s.value.minExperience=i.minExperience?Number(i.minExperience):null,s.value.maxExperience=i.maxExperience?Number(i.maxExperience):null,s.value.practicingCourt=i.practicingCourt||"",s.value.division=i.division||"",s.value.district=i.district||"",s.value.specialization=i.specialization||"",!0):!1,B=()=>{const i={};return s.value.minExperience!==null&&(i.minExperience=s.value.minExperience),s.value.maxExperience!==null&&(i.maxExperience=s.value.maxExperience),s.value.practicingCourt&&(i.practicingCourt=s.value.practicingCourt),s.value.division&&(i.division=s.value.division),s.value.district&&(i.district=s.value.district),s.value.specialization&&(i.specialization=s.value.specialization),i},U=[{value:"SUPREME_COURT",label:"Supreme Court"},{value:"HIGH_COURT_DIVISION",label:"High Court Division"},{value:"APPELLATE_DIVISION",label:"Appellate Division"},{value:"DISTRICT_COURT",label:"District Court"},{value:"SESSIONS_COURT",label:"Sessions Court"},{value:"ADMINISTRATIVE_TRIBUNAL",label:"Administrative Tribunal"},{value:"LABOUR_COURT",label:"Labour Court"},{value:"FAMILY_COURT",label:"Family Court"},{value:"MAGISTRATE_COURT",label:"Magistrate Court"},{value:"SPECIAL_TRIBUNAL",label:"Special Tribunal"}],M=[{value:"DHAKA",label:"Dhaka"},{value:"CHATTOGRAM",label:"Chattogram"},{value:"RAJSHAHI",label:"Rajshahi"},{value:"KHULNA",label:"Khulna"},{value:"BARISHAL",label:"Barishal"},{value:"SYLHET",label:"Sylhet"},{value:"RANGPUR",label:"Rangpur"},{value:"MYMENSINGH",label:"Mymensingh"}],c=[{value:"DHAKA",label:"Dhaka"},{value:"CHATTOGRAM",label:"Chattogram"},{value:"RAJSHAHI",label:"Rajshahi"},{value:"KHULNA",label:"Khulna"},{value:"BARISHAL",label:"Barishal"},{value:"SYLHET",label:"Sylhet"},{value:"RANGPUR",label:"Rangpur"},{value:"MYMENSINGH",label:"Mymensingh"},{value:"COMILLA",label:"Comilla"},{value:"GAZIPUR",label:"Gazipur"},{value:"NARAYANGANJ",label:"Narayanganj"},{value:"TANGAIL",label:"Tangail"},{value:"NARSINGDI",label:"Narsingdi"},{value:"MUNSHIGANJ",label:"Munshiganj"},{value:"MANIKGANJ",label:"Manikganj"},{value:"MADARIPUR",label:"Madaripur"},{value:"SHARIATPUR",label:"Shariatpur"},{value:"RAJBARI",label:"Rajbari"},{value:"GOPALGANJ",label:"Gopalganj"},{value:"FARIDPUR",label:"Faridpur"},{value:"KISHOREGANJ",label:"Kishoreganj"},{value:"NETROKONA",label:"Netrokona"},{value:"JAMALPUR",label:"Jamalpur"},{value:"SHERPUR",label:"Sherpur"},{value:"BOGRA",label:"Bogra"},{value:"JOYPURHAT",label:"Joypurhat"},{value:"NAOGAON",label:"Naogaon"},{value:"NATORE",label:"Natore"},{value:"CHAPAI_NAWABGANJ",label:"Chapai Nawabganj"},{value:"PABNA",label:"Pabna"},{value:"SIRAJGANJ",label:"Sirajganj"},{value:"DINAJPUR",label:"Dinajpur"},{value:"THAKURGAON",label:"Thakurgaon"},{value:"PANCHAGARH",label:"Panchagarh"},{value:"NILPHAMARI",label:"Nilphamari"},{value:"LALMONIRHAT",label:"Lalmonirhat"},{value:"KURIGRAM",label:"Kurigram"},{value:"GAIBANDHA",label:"Gaibandha"},{value:"COXS_BAZAR",label:"Cox's Bazar"},{value:"BANDARBAN",label:"Bandarban"},{value:"RANGAMATI",label:"Rangamati"},{value:"KHAGRACHHARI",label:"Khagrachhari"},{value:"FENI",label:"Feni"},{value:"LAKSHMIPUR",label:"Lakshmipur"},{value:"CHANDPUR",label:"Chandpur"},{value:"NOAKHALI",label:"Noakhali"},{value:"BRAHMANBARIA",label:"Brahmanbaria"},{value:"JESSORE",label:"Jessore"},{value:"SATKHIRA",label:"Satkhira"},{value:"MEHERPUR",label:"Meherpur"},{value:"NARAIL",label:"Narail"},{value:"CHUADANGA",label:"Chuadanga"},{value:"KUSHTIA",label:"Kushtia"},{value:"MAGURA",label:"Magura"},{value:"JHENAIDAH",label:"Jhenaidah"},{value:"BAGERHAT",label:"Bagerhat"},{value:"PIROJPUR",label:"Pirojpur"},{value:"JHALOKATHI",label:"Jhalokathi"},{value:"BHOLA",label:"Bhola"},{value:"PATUAKHALI",label:"Patuakhali"},{value:"BARGUNA",label:"Barguna"},{value:"SUNAMGANJ",label:"Sunamganj"},{value:"HABIGANJ",label:"Habiganj"},{value:"MOULVIBAZAR",label:"Moulvibazar"}],a=[{value:"CRIMINAL_LAW",label:"Criminal Law"},{value:"CIVIL_LAW",label:"Civil Law"},{value:"FAMILY_LAW",label:"Family Law"},{value:"LABOUR_LAW",label:"Labour Law"},{value:"CORPORATE_LAW",label:"Corporate Law"},{value:"CONSTITUTIONAL_LAW",label:"Constitutional Law"},{value:"TAX_LAW",label:"Tax Law"},{value:"ENVIRONMENTAL_LAW",label:"Environmental Law"},{value:"INTELLECTUAL_PROPERTY_LAW",label:"Intellectual Property Law"},{value:"BANKING_LAW",label:"Banking and Finance Law"},{value:"PROPERTY_LAW",label:"Property and Real Estate Law"},{value:"HUMAN_RIGHTS_LAW",label:"Human Rights Law"},{value:"INTERNATIONAL_LAW",label:"International Law"},{value:"CYBER_LAW",label:"Cyber and ICT Law"},{value:"CONTRACT_LAW",label:"Contract Law"},{value:"ADMINISTRATIVE_LAW",label:"Administrative Law"},{value:"IMMIGRATION_LAW",label:"Immigration Law"},{value:"CONSUMER_LAW",label:"Consumer Protection Law"},{value:"INSURANCE_LAW",label:"Insurance Law"},{value:"MARITIME_LAW",label:"Maritime Law"},{value:"EDUCATION_LAW",label:"Education Law"}],l=i=>{var n;return((n=U.find(d=>d.value===i))==null?void 0:n.label)||i},_=i=>{var n;return((n=M.find(d=>d.value===i))==null?void 0:n.label)||i},E=i=>{var n;return((n=c.find(d=>d.value===i))==null?void 0:n.label)||i},A=i=>!i||!Array.isArray(i)?[]:i.map(n=>{var d;return((d=i.find(w=>w.value===n))==null?void 0:d.label)||n});return{lawyers:p,loading:N,error:R,searched:t,filters:s,hasResults:C,hasFilters:g,setFilters:D,clearFilters:v,setLawyers:x,clearResults:H,searchLawyers:P,restoreFromQuery:G,getQueryParams:B,getPracticingCourtDisplayName:l,getDivisionDisplayName:_,getDistrictDisplayName:E,getSpecializationDisplayNames:A,practicingCourts:U,divisions:M,districts:c,specializations:a}}),ee={class:"find-lawyers-view"},ae={class:"container"},le={class:"filters-grid"},ie={class:"form-group"},se={class:"form-group"},te={class:"form-group"},ne=["value"],re={class:"form-group"},oe=["value"],ue={class:"form-group"},ve=["value"],ce={class:"form-group"},de=["value"],Ae={class:"form-group search-button-group"},pe=["disabled"],be={key:0,class:"loading-spinner"},me={key:0,class:"alert alert-error"},Ne={key:1,class:"results-section"},Re={class:"results-header"},ge={class:"lawyers-grid"},Le={class:"lawyer-header"},Ie={class:"lawyer-avatar"},he={class:"lawyer-info"},fe={class:"lawyer-name"},Ce={class:"lawyer-firm"},_e=["onClick"],Ee={class:"lawyer-details"},ye={class:"detail-item"},Te={class:"detail-value"},Se={class:"detail-item"},xe={class:"detail-value"},He={class:"detail-item"},Ue={class:"detail-value"},Me={class:"specializations"},we={class:"specializations-list"},Oe={key:1,class:"no-specializations"},De={key:2,class:"no-results"},Pe={__name:"FindLawyersView",setup(p){const N=Q(),R=$(),t=q(),s=m(()=>t.loading),C=m(()=>t.error),g=m(()=>t.lawyers),D=m(()=>t.searched),v=m(()=>t.filters),x=t.practicingCourts,H=t.divisions,P=t.districts,G=t.specializations;V(v,c=>{t.setFilters(c)},{deep:!0}),Y(()=>{t.hasResults?console.log("Restoring search results from store"):Object.keys(N.query).length>0&&(console.log("Restoring filters from query parameters"),t.restoreFromQuery(N.query),t.searchLawyers())});async function B(){await t.searchLawyers()}function U(c){return c.firstName?c.firstName.charAt(0).toUpperCase():c.email?c.email.charAt(0).toUpperCase():"U"}function M(c){console.log("Navigating to lawyer details, preserving search state"),R.push({path:`/lawyers/${encodeURIComponent(c)}/details`,query:{from:"search"}})}return(c,a)=>(o(),r("div",ee,[e("div",ae,[a[22]||(a[22]=e("div",{class:"section-header"},[e("h1",{class:"page-title"},"Find a Lawyer")],-1)),e("form",{onSubmit:Z(B,["prevent"]),class:"filters-form"},[e("div",le,[e("div",ie,[a[6]||(a[6]=e("label",{for:"minExperience"},"Minimum Experience",-1)),L(e("input",{id:"minExperience",type:"number","onUpdate:modelValue":a[0]||(a[0]=l=>v.value.minExperience=l),min:"0",max:"50",class:"form-input",placeholder:"Min years"},null,512),[[K,v.value.minExperience,void 0,{number:!0}]])]),e("div",se,[a[7]||(a[7]=e("label",{for:"maxExperience"},"Maximum Experience",-1)),L(e("input",{id:"maxExperience",type:"number","onUpdate:modelValue":a[1]||(a[1]=l=>v.value.maxExperience=l),min:"0",max:"50",class:"form-input",placeholder:"Max years"},null,512),[[K,v.value.maxExperience,void 0,{number:!0}]])]),e("div",te,[a[9]||(a[9]=e("label",{for:"practicingCourt"},"Practicing Court",-1)),L(e("select",{id:"practicingCourt","onUpdate:modelValue":a[2]||(a[2]=l=>v.value.practicingCourt=l),class:"form-select"},[a[8]||(a[8]=e("option",{value:""},"Any Court",-1)),(o(!0),r(I,null,h(f(x),l=>(o(),r("option",{key:l.value,value:l.value},u(l.label),9,ne))),128))],512),[[O,v.value.practicingCourt]])]),e("div",re,[a[11]||(a[11]=e("label",{for:"division"},"Division",-1)),L(e("select",{id:"division","onUpdate:modelValue":a[3]||(a[3]=l=>v.value.division=l),class:"form-select"},[a[10]||(a[10]=e("option",{value:""},"Any Division",-1)),(o(!0),r(I,null,h(f(H),l=>(o(),r("option",{key:l.value,value:l.value},u(l.label),9,oe))),128))],512),[[O,v.value.division]])]),e("div",ue,[a[13]||(a[13]=e("label",{for:"district"},"District",-1)),L(e("select",{id:"district","onUpdate:modelValue":a[4]||(a[4]=l=>v.value.district=l),class:"form-select"},[a[12]||(a[12]=e("option",{value:""},"Any District",-1)),(o(!0),r(I,null,h(f(P),l=>(o(),r("option",{key:l.value,value:l.value},u(l.label),9,ve))),128))],512),[[O,v.value.district]])]),e("div",ce,[a[15]||(a[15]=e("label",{for:"specialization"},"Specialization",-1)),L(e("select",{id:"specialization","onUpdate:modelValue":a[5]||(a[5]=l=>v.value.specialization=l),class:"form-select"},[a[14]||(a[14]=e("option",{value:""},"Any Specialization",-1)),(o(!0),r(I,null,h(f(G),l=>(o(),r("option",{key:l.value,value:l.value},u(l.label),9,de))),128))],512),[[O,v.value.specialization]])]),e("div",Ae,[a[16]||(a[16]=e("label",null,"Â ",-1)),e("button",{type:"submit",class:"search-button",disabled:s.value},[s.value?(o(),r("span",be)):k("",!0),X(" "+u(s.value?"Searching...":"Search Lawyers"),1)],8,pe)])])],32),C.value?(o(),r("div",me,u(C.value),1)):k("",!0),g.value.length>0?(o(),r("div",Ne,[e("div",Re,[e("h2",null," Found "+u(g.value.length)+" lawyer"+u(g.value.length!==1?"s":""),1)]),e("div",ge,[(o(!0),r(I,null,h(g.value,l=>{var _,E;return o(),r("div",{key:l.lawyerId,class:"lawyer-card"},[e("div",Le,[e("div",Ie,u(U(l)),1),e("div",he,[e("h3",fe,u(l.firstName)+" "+u(l.lastName),1),e("p",Ce,u(l.firm||"Independent Practice"),1)]),e("button",{onClick:A=>M(l.email),class:"view-details-button",type:"button"}," View Details ",8,_e)]),e("div",Ee,[e("div",ye,[a[17]||(a[17]=e("span",{class:"detail-label"},"Experience",-1)),e("span",Te,u(l.yearsOfExperience||0)+" years",1)]),e("div",Se,[a[18]||(a[18]=e("span",{class:"detail-label"},"Court",-1)),e("span",xe,u(((_=f(x).find(A=>A.value===l.practicingCourt))==null?void 0:_.label)||l.practicingCourt),1)]),e("div",He,[a[19]||(a[19]=e("span",{class:"detail-label"},"Location",-1)),e("span",Ue,u(((E=f(H).find(A=>A.value===l.division))==null?void 0:E.label)||l.division),1)])]),e("div",Me,[a[20]||(a[20]=e("h4",{class:"specializations-title"},"Specializations",-1)),e("div",we,[l.specializationDisplayNames.length>0?(o(!0),r(I,{key:0},h(l.specializationDisplayNames,(A,i)=>(o(),r("span",{key:i,class:"specialization-tag"},u(A),1))),128)):(o(),r("span",Oe,"General Practice"))])])])}),128))])])):!s.value&&!C.value&&D.value?(o(),r("div",De,a[21]||(a[21]=[e("h3",null,"No lawyers found",-1),e("p",null,"Try adjusting your search criteria to find more results.",-1)]))):k("",!0)])]))}},Be=j(Pe,[["__scopeId","data-v-47b19697"]]);export{Be as default};
